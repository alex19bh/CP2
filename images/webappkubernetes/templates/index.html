<!DOCTYPE html>
<html>
  <head>
    <title>Demo Frontend y Backend Alejandro Ortiz</title>
  </head>
  <body>
    <h1>Aplicacion para registro de datos permanentes Kubernetes</h1>
    <input id="input" />
    <button onclick="guardar()">Guardar</button>
    <pre id="output"></pre>

    <script>
      async function guardar() {
        const valor = document.getElementById('input').value;
        await fetch('/data', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ valor })
        });
        cargar();
      }

      async function cargar() {
        const res = await fetch('/data');
        const data = await res.json();
        document.getElementById('output').textContent = JSON.stringify(data, null, 2);
      }

      cargar();
    </script>
  </body>
</html>
